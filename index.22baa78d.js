function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},o=n.parcelRequired76b;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},n.parcelRequired76b=o),o.register("kyEFX",(function(t,n){var a,s;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var o={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},s=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.22baa78d.js","9Q6Xn":"img-default@1x.79d493e0.jpg","6Auof":"img-default@2x.bbc4c791.jpg","lp5u4":"sprite.05f6c6bc.svg"}'));var r={home:{en:"home",ru:"главная",uk:"головна"},library:{en:"library",ru:"библиотека",uk:"бібліотека"},watched:{en:"watched",ru:"просмотренные",uk:"переглянуті"},queue:{en:"queue",ru:"очередь",uk:"черга"},polyci:{en:"All Rights Reserved",ru:"Все права защищены",uk:"Всі права захищені"},developer:{en:"Developed with",ru:"Разработано",uk:"Розроблено"},by:{en:"by",ru:" ",uk:" "},students:{en:"GoIT Students",ru:"Студентами GoIT",uk:"Студентами GoIT"},rating:{en:"Vote / Votes",ru:"Рейтинг / Голосов",uk:"Рейтинг / Голосів"},popularity:{en:"Popularity",ru:"Популярность",uk:"Популярність"},original:{en:"Original Title",ru:"Оригинальное название",uk:"Оригінальна назва"},genre:{en:"Genre",ru:"Жанр",uk:"Жанр"},about:{en:"About",ru:"Описание",uk:"Опис"},addwatched:{en:"add to Watched",ru:"Добавить в просмотренные",uk:"Додати до переглянутих"},delwatched:{en:"Remove from watched",ru:"Удалить из просмотренных",uk:"Видалити з переглянутих"},addqueue:{en:"add to queue",ru:"добавить в очередь",uk:"додати до черги"},delqueue:{en:"Remove from queue",ru:"Удалить из очереди",uk:"Видалити з черги"},emptySearch:{en:"Enter the name of the movie, for a correct search!",ru:"Введите название фильма, для корректного поиска!",uk:"Введіть назву фільму, для правильного пошуку!"},badQuery:{en:"Nothing is found. Wrong query.",ru:"Ничего не найдено. Неверный запрос.",uk:"Нічого не знайдено. Неправильний запит."},searchplaceholder:{en:"Movie search",ru:"Поиск фильмов",uk:"Пошук фільмів"},notMovie:{en:"Oops, movie not found. Please, choose another movie",ru:"Упс, фильм не найден. Пожалуйста, выберите другой фильм",uk:"На жаль, фільм не знайдено. Будь ласка, виберіть інший фільм"},group:{en:"Group",ru:"Группа",uk:"Група"},serg:{en:"Sergey Korobka",ru:"Сергей Коробка",uk:"Сергій Коробка"},maria:{en:"Maria Kolisnyk",ru:"Мария Колесник",uk:"Марія Колісник"},ihork:{en:"Ihor Kolontaievskiy",ru:"Игорь Колонтаевский",uk:"Ігор Колонтаєвський"},petr:{en:"Petr Mazka",ru:"Петр Мазка",uk:"Петро Мазка"},tetiana:{en:"Tetiana Doroshko",ru:"Татьяна Дорошко",uk:"Тетяна Дорошко"},anast:{en:"Anastasia Slezko",ru:"Анастасия Слезко",uk:"Анастасія Слезко"},liliia:{en:"Liliia Kostiurenko",ru:"Лилия Костюренко",uk:"Лілія Костюренко"},ihora:{en:"Ihor Alexsovich",ru:"Игорь Алексович",uk:"Ігор Алексович"},vladim:{en:"Vladimir Vashchenko",ru:"Владимир Ващенко",uk:"Володимир Ващенко"},lead:{en:"Team Lead",ru:"Тимлид",uk:"Тімлід"},scrum:{en:"Scrum Master",ru:"Скрам мастер",uk:"Скрам майстер"},dev1:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev2:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev3:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev4:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev5:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev6:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev7:{en:"Developer",ru:"Разработчик",uk:"Розробник"}};function i(){return{headerRef:{header:document.querySelector(".header"),navLogo:document.querySelector(".navigation__logo"),searchForm:document.querySelector(".js-search-form"),headLibBackGr:document.querySelector(".header--library"),searchInput:document.querySelector(".js-form-input")},searchRef:{searchForm:document.querySelector(".search-form")},libraryButtonsRef:{btnContainer:document.querySelector(".js-btn-container"),btnWatched:document.querySelector(".js-btn-watched"),btnQueue:document.querySelector(".js-btn-queue")},paginationRef:{container:document.querySelector(".pag-container-js"),paginationList:document.querySelector(".pag-list-js"),pages:document.querySelectorAll(".js-page"),prev:document.querySelector(".prev-js"),next:document.querySelector(".next-js"),first:document.querySelector(".first-js"),last:document.querySelector(".last-js"),prevMore:document.querySelector(".prevMore-js"),nextMore:document.querySelector(".nextMore-js")},modalTeamRef:{teamModal:document.querySelector(".team-modal"),teamModalBtn:document.querySelector(".tm-close-btn"),teamModalOpen:document.querySelector(".footer-link")},libraryRef:{libBtn:document.querySelector(".js-library"),homeBtn:document.querySelector(".js-home")},galleryRef:{moviesDiv:document.querySelector("#movies-gallery")},filmDetailsRef:{filmDetailsModalContainer:document.querySelector("#movies-gallery"),filmDetailsModalClose:document.querySelector('[data-action="close-modal"]'),modalBackdrop:document.querySelector(".js-backdrop"),filmDetailsModal:document.querySelector(".modal"),image:document.querySelector(".js-image"),title:document.querySelector(".js-title"),voteAverage:document.querySelector(".js-vote"),voteCount:document.querySelector(".js-vote-count"),popularity:document.querySelector(".js-popularity"),originTitle:document.querySelector(".js-title-orig"),genres:document.querySelector(".js-genres"),about:document.querySelector(".js-about"),btnWatched:document.querySelector(".js-btn-modal-watched"),btnQueue:document.querySelector(".js-btn-modal-queue")},footerRef:{},loaderRef:{loader:document.querySelector(".js-loader")},modalErrorRef:{modalError:document.querySelector(".windov-modal"),modalErrorText:document.querySelector(".error-modal__text")},panel:{switcherBtn:document.querySelector(".switcher-toggle"),languageSelect:document.querySelector(".js-language-btn")},upArrowRef:{upArrow:document.querySelector(".to-top-button")}}}function l(){const e=localStorage.getItem("user-setting");try{if(e){return JSON.parse(e)}return{}}catch(e){console.log(e)}}function c(e,t){const n=l();let a={};a=n?{...n,[e]:t}:{[e]:t};const s=JSON.stringify(a);localStorage.setItem("user-setting",s)}const{languageSelect:d}=i().panel,u=["en","ru","uk"];d.addEventListener("change",(function(e){let t=e.currentTarget.value;location.href=`${window.location.pathname}#${t}`,c("lang",t),location.reload()})),function(){const e=l();e.lang&&(location.href=`${window.location.pathname}#${e.lang}`);let t=window.location.hash.substring(1);u.includes(t)||(location.href=`${window.location.pathname}#en`,location.reload());d.value=t,c("lang",t);const n=Object.keys(r);for(let e of n){const n=document.querySelector(`.lang-${e}`),a=r[e][t];n&&a&&(n.innerHTML=a)}}();const{languageSelect:m}=i().panel,g={};function h(e){const t=[],n=r.other[m.value];e.genre_ids?e.genre_ids.forEach((e=>{g[e]&&t.push(g[e])})):t.push("N/A"),0===t.length&&t.push("N/A"),t.length>3&&(t.splice(3),t[2]=n);return t.map((e=>`${e}`)).join(", ")}var f={API_KEY:"06cf6ee022a0922eb5200ae030143d7b",API_BASE_URL:"https://api.themoviedb.org/3/",TRENDING_PATH_PARAMS:"trending/all/day",SEARCH_PATH_PARAMS:"search/movie",DETAILS_PATH_PARAMS:"movie/",IMAGE_BASE_URL_1X:"https://image.tmdb.org/t/p/w500",IMAGE_BASE_URL_2X:"https://image.tmdb.org/t/p/w780",GENRES_PATH_PARAMS:"genre/movie/list"};const{languageSelect:p}=i().panel;let v;"en"===p.value?v="en-US":"uk"===p.value?v="uk-UA":"ru"===p.value&&(v="ru-RU");const{API_KEY:y,API_BASE_URL:_,TRENDING_PATH_PARAMS:L}=f;async function w(e=1){const t=new URL(_+L);t.searchParams.set("api_key",y),t.searchParams.set("page",e),t.searchParams.set("language",v);try{const e=await fetch(t);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}return await e.json()}catch(e){console.log(e)}}function E(){i().loaderRef.loader.classList.add("is-hidden")}function R(){i().loaderRef.loader.classList.remove("is-hidden")}var S;S=new URL(o("kyEFX").resolve("9Q6Xn"),import.meta.url).toString();var b;b=new URL(o("kyEFX").resolve("6Auof"),import.meta.url).toString();const{IMAGE_BASE_URL_1X:k,IMAGE_BASE_URL_2X:A}=f;function M(e,n,a){const s=e.title||e.name||e.original_name||e.original_title;let o,r;return e.poster_path?(o=`${k+e.poster_path} 1x,${A+e.poster_path} 2x`,r=`${k+e.poster_path}`):(o=`${t(S)} 1x, ${t(b)} 2x`,r=t(S)),`<li class="gallery-card" data-id ="${e.id}">\n<a href="#" class="gallery-card__link">\n            <img srcset="${o}"\n  src="${r}" alt="${s}"  class="gallery-card__image" loading="lazy">\n  <div class="gallery-card__info">\n<p class="gallery-card__name">${s}</p>\n<p class="gallery-card__genre">${n} | ${a}</p>\n</div>\n</a>\n\t    </li>`}const{moviesDiv:j}=i().galleryRef;function q(e){const t=e.results.map((e=>function(e){const t=h(e);let n;n=e.release_date?Number.parseInt(e.release_date):Number.parseInt(e.first_air_date);return M(e,t,n)}(e))).join("");j.innerHTML=`<ul class="gallery-container">${t}</ul>`}var x={KEY_WATCHED:"added-watched",KEY_QUEUE:"added-queue",CURRENT_QUERY:"current-query",TRENDING:"trending",BY_KEY:"by-key",LIBRARY:"library"};const{languageSelect:I}=i().panel;let T;"en"===I.value?T="en-US":"uk"===I.value?T="uk-UA":"ru"===I.value&&(T="ru-RU");const{API_KEY:$,API_BASE_URL:P,DETAILS_PATH_PARAMS:B}=f;async function U(e){const t=new URL(P+B+e);t.searchParams.set("api_key",$),t.searchParams.set("language",T);try{const e=await fetch(t);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}return await e.json()}catch(e){console.log(e)}}const{languageSelect:D}=i().panel,{IMAGE_BASE_URL_1X:N,IMAGE_BASE_URL_2X:C}=f;function H(e){let n=e.genres.map((e=>e.name));const a=r.other[D.value];let s,o;n=n.length>3?[n[0],n[1],a].join(", "):n.join(", "),e.poster_path?(s=`${N+e.poster_path} 1x,${C+e.poster_path} 2x`,o=`${N+e.poster_path}`):(s=`${t(S)} 1x, ${t(b)} 2x`,o=t(S));const i=e.title||e.name||e.original_name||e.original_title;return console.log(e),`\n  <li class="gallery-card" data-id ="${e.id}">\n    <a href="#" class="gallery-card__item">\n      <img srcset="${s}"\n  src="${o}" alt="${i}"  class="gallery-card__image" loading="lazy">\n      <div class="gallery-card__info">\n        <p class="gallery-card__name">${i}</p>\n        <p class="gallery-card__genre">${n} | ${Number.parseInt(e.release_date)||"N/A"}   <span class="film-details__span--accent">${e.vote_average}</span>\n        </p>\n      </div>\n    </a>        \n\t</li>`}function Y(e){const t=localStorage.getItem(e);try{if(t){return JSON.parse(t)}return[]}catch(e){console.log(e)}}function G(e,t){const n=Y(e);let a=[];if(n){if(n.includes(t))return;a=[...n,t]}else a=[t];const s=JSON.stringify(a);localStorage.setItem(e,s)}function O(e,t){const n=Y(e);let a=[];if(n){a=[...n.filter((e=>e!==t))]}const s=JSON.stringify(a);localStorage.setItem(e,s)}var K;function Q(e){let n="";const a=e>9?"":"is-hidden";for(let t=1;t<=e&&!(window.matchMedia("(max-width: 767px)").matches&&e>5&&6===t)&&!(e>9&&10===t);t+=1)n+=`<li class="pagination__item js-page" data-num='${t}'><a class="pagination__link" href="#">${t}</a></li>`;return`\n  <ul class="pagination__list pag-list-js">\n      <li class="button prev-js pagination__item"><svg class="button__icon" width="16" height ="16">\n          <use href="${t(K)}#arrow-right"></use>\n        </svg></li>\n      <li class="pagination__item first-js is-hidden hidden"><a class="pagination__link" href="#">1</a></li>\n      <li class="pagination__item prevMore-js is-hidden hidden"><a class="pagination__link" href="#">...</a></li>\n      ${n}\n      <li class="pagination__item ${a} nextMore-js hidden"><a class="pagination__link" href="#">...</a></li>\n      <li class="pagination__item ${a} last-js hidden"><a class="pagination__link" href="#">${e}</a></li>\n      <li class="button next-js pagination__item"><svg class="button__icon" width="16" height="16">\n          <use href="${t(K)}#arrow-left"></use>\n        </svg></li>\n\n    </ul>`}K=new URL(o("kyEFX").resolve("lp5u4"),import.meta.url).toString();const{paginationRef:F}=i();function X(e){const t=Q(e);F.container.innerHTML=t}const{languageSelect:W}=i().panel;let J;"en"===W.value?J="en-US":"uk"===W.value?J="uk-UA":"ru"===W.value&&(J="ru-RU");const{API_KEY:z,API_BASE_URL:V,SEARCH_PATH_PARAMS:Z}=f;async function ee(e,t=1){const n=new URL(V+Z);n.searchParams.set("api_key",z),n.searchParams.set("page",t),n.searchParams.set("query",e),n.searchParams.set("language",J);try{const e=await fetch(n);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}const t=await e.json();if(t.results.length)return t;throw new Error("Nothing is found. Wrong query.")}catch(e){console.log(e)}}const{CURRENT_QUERY:te}=x;function ne(){try{const e=sessionStorage.getItem(te);return JSON.parse(e)}catch(e){console.log(e)}}function ae(e,t=!0,n=1){const a={[e]:t,page:n};try{const e=JSON.stringify(a);sessionStorage.setItem(te,e)}catch(e){console.log(e)}}function se(e){const t=ne();try{t.page=e;const n=JSON.stringify(t);sessionStorage.setItem(te,n)}catch(e){console.log(e)}}const{TRENDING:oe,BY_KEY:re,LIBRARY:ie}=x,{paginationRef:{container:le}}=i();let ce,de,ue=1;function me(e,t){de=e,se(t),e<=1?ye():(t&&(ue=t),X(e),ce=i().paginationRef,he(),fe(),ve(),ce.paginationList.addEventListener("click",ge))}function ge(e){e.preventDefault(),e.target.classList.contains("pagination__item")&&(e.target.classList.contains("js-page")&&(ue=Number(e.target.dataset.num)),e.target.classList.contains("prev-js")&&ue>1&&(ue-=1),e.target.classList.contains("next-js")&&ue<de&&(ue+=1),e.target.classList.contains("first-js")&&(ue=1,pe()),e.target.classList.contains("last-js")&&(ue=de,pe()),e.target.classList.contains("prevMore-js")&&(ue=+ce.pages[1].dataset.num,pe()),e.target.classList.contains("nextMore-js")&&(ue=+ce.pages[ce.pages.length-2].dataset.num,pe()),async function(e){se(e);const t=ne();let n;R(),t[oe]&&(n=await w(e),q(n));if(t[re]){const a=t[re];n=await ee(a,e),q(n)}t[ie]&&Ae(e);E()}(ue),he(),fe(),ve())}function he(){ce.pages.forEach((e=>{e.classList.remove("active"),+e.dataset.num===ue&&e.classList.add("active")}))}function fe(){window.matchMedia("(min-width: 768px)").matches?de>9&&(ue<=5?(ce.first.classList.add("is-hidden"),ce.prevMore.classList.add("is-hidden"),ce.pages[0].classList.remove("is-hidden"),ce.pages[1].classList.remove("is-hidden")):(ce.first.classList.remove("is-hidden"),ce.prevMore.classList.remove("is-hidden"),ce.pages[0].classList.add("is-hidden"),ce.pages[1].classList.add("is-hidden")),function(){const e=ce.pages.length-1;ue>=de-4?(ce.last.classList.add("is-hidden"),ce.nextMore.classList.add("is-hidden"),ce.pages[e-1].classList.remove("is-hidden"),ce.pages[e].classList.remove("is-hidden")):(ce.last.classList.remove("is-hidden"),ce.nextMore.classList.remove("is-hidden"),ce.pages[e-1].classList.add("is-hidden"),ce.pages[e].classList.add("is-hidden"))}(),ue>=4&&ue<=de&&pe()):de>5&&ue>=2&&ue<=de&&pe(),he()}function pe(){let e=ue-4;ue<=1?e=ue:ue<=2?e=ue-1:ue<=3?e=ue-2:ue<=4&&(e=ue-3),ue>=de?e=ue-8:ue>=de-1?e=ue-7:ue>=de-2?e=ue-6:ue>=de-3&&(e=ue-5),window.matchMedia("(max-width: 767px)").matches&&(e=ue-2,ue<=1?e=ue:ue<=2&&(e=ue-1),ue>=de?e=ue-4:ue>=de-1?e=ue-3:ue>=de-2&&(e=ue-2));for(let t=e,n=0;n<ce.pages.length;t+=1,n+=1)ce.pages[n].firstElementChild.textContent=t,ce.pages[n].dataset.num=t}function ve(){ue<=1?ce.prev.classList.add("disabled"):ce.prev.classList.remove("disabled"),ue>=de?ce.next.classList.add("disabled"):ce.next.classList.remove("disabled")}function ye(){le.innerHTML=""}window.addEventListener("resize",(function(){if(!ce)return;window.matchMedia("(max-width: 767px)").matches&&!ce.container.classList.contains("mobile-js")?(ce.container.classList.remove("desktop-js"),ce.container.classList.add("mobile-js"),me(de)):window.matchMedia("(min-width: 768px)").matches&&!ce.container.classList.contains("desktop-js")&&(ce.container.classList.remove("mobile-js"),ce.container.classList.add("desktop-js"),me(de))}));const _e=i().libraryButtonsRef.btnWatched,Le=i().libraryButtonsRef.btnQueue,we=i().galleryRef.moviesDiv;let Ee;function Re(){_e.addEventListener("click",Se),Le.addEventListener("click",be),Se(),ae(x.LIBRARY),_e.classList.add("active")}async function Se(e){let t;t="number"==typeof e?e:1,Le.classList.remove("active"),_e.classList.add("active"),ye(),se(t);const n=Y(x.KEY_WATCHED);if(n&&0!==n.length){R(),Ee=await Promise.all(ke(n)),Ee=Ee.filter((e=>void 0!==e));const e=Math.ceil(Ee.length/20);e<t&&(t-=1),Ae(t),me(e,t),E()}else we.innerHTML="<p class='gallery__info'>You don't have any movies you've watched.</p><p class='gallery__info'>Add the first one.</p>"}async function be(e){let t;t="number"==typeof e?e:1,Le.classList.add("active"),_e.classList.remove("active"),ye(),se(t);const n=Y(x.KEY_QUEUE);if(n&&0!==n.length){R(),Ee=await Promise.all(ke(n)),Ee=Ee.filter((e=>void 0!==e));const e=Math.ceil(Ee.length/20);e<t&&(t-=1),Ae(t),me(e,t),E()}else we.innerHTML="<p class='gallery__info'>You don't have any movies in the queue.</p><p class='gallery__info'>Add the first one.</p>"}function ke(e){return e.map((e=>new Promise((t=>{t(U(e)),reject(U(e))}))))}function Ae(e=1){const t=Ee.slice(0+20*(e-1),20+20*(e-1)).map((e=>{if(e)return H(e)})).join("");we.innerHTML=`<ul class="gallery-container">${t}</ul>`}const{languageSelect:Me}=i().panel,{API_KEY:je,API_BASE_URL:qe,GENRES_PATH_PARAMS:xe}=f;let Ie;async function Te(){const e=new URL(qe+xe);e.searchParams.set("api_key",je),e.searchParams.set("language",Ie);try{const t=await fetch(e);if(!t.ok){const e=await t.json();throw new Error(e.status_message)}return await t.json()}catch(e){console.log(e)}}async function $e(){R(),ye();const e=await Promise.all([Te(),w()]);e[0].genres.forEach((e=>{g[e.id]=e.name})),q(e[1]),ae(x.TRENDING),me(e[1].total_pages,1),E()}function Pe(){i().headerRef.searchInput.value=null,i().headerRef.header.classList.add("header--home"),i().headerRef.header.classList.remove("header--library"),i().libraryButtonsRef.btnContainer.classList.add("display-none"),i().headerRef.searchForm.classList.remove("display-none"),i().libraryRef.homeBtn.classList.add("current"),i().libraryRef.libBtn.classList.remove("current"),$e()}"en"===Me.value?Ie="en-US":"uk"===Me.value?Ie="uk-UA":"ru"===Me.value&&(Ie="ru-RU"),R(),window.addEventListener("DOMContentLoaded",$e),i().libraryRef.homeBtn.addEventListener("click",Pe),i().libraryRef.libBtn.addEventListener("click",(function(){i().headerRef.header.classList.remove("header--home"),i().headerRef.header.classList.add("header--library"),i().headerRef.searchForm.classList.add("display-none"),i().libraryButtonsRef.btnContainer.classList.remove("display-none"),i().libraryRef.libBtn.classList.add("current"),i().libraryRef.homeBtn.classList.remove("current"),ye(),Re()})),i().headerRef.navLogo.addEventListener("click",Pe);const{modalError:Be,modalErrorText:Ue}=i().modalErrorRef;let De=null;function Ne(e){Be.classList.contains("show-hide")||(Be.classList.remove("is-hidden"),Be.classList.add("show-hide"),function(e){Ue.innerHTML=`${e}`}(e),De=setTimeout((()=>{Ce()}),3e3))}function Ce(){Be.classList.add("is-hidden"),Be.classList.remove("show-hide")}Be.addEventListener("click",(function(){Ce(),clearInterval(De)}));const{languageSelect:He}=i().panel,{moviesDiv:Ye}=i().galleryRef,{searchForm:Ge}=i().searchRef;let Oe="";Ge.elements.searchQuery.placeholder=r.searchplaceholder[He.value],Ge.addEventListener("submit",(function(e){if(e.preventDefault(),Oe=e.target.elements.searchQuery.value.trim(),""===Oe){return Ne(r.emptySearch[He.value])}R(),ee(Oe).then((e=>{if(!e){return Ne(r.badQuery[He.value]),Ye.innerHTML="",void ye()}ae(x.BY_KEY,Oe),me(e.total_pages,1),q(e),function(){const{top:e}=Ye.getBoundingClientRect();console.log(e),window.scrollBy({top:e,behavior:"smooth"})}()})).finally(E),Ge.elements.searchQuery.value=""}));const{languageSelect:Ke}=i().panel,Qe=x.KEY_WATCHED,Fe=x.KEY_QUEUE,{btnWatched:Xe,btnQueue:We}=i().libraryButtonsRef,Je=i().filmDetailsRef.btnWatched,ze=i().filmDetailsRef.btnQueue;function Ve(e){Ze(e),et(e),Je.setAttribute("id",e),Je.addEventListener("click",tt),ze.setAttribute("id",e),ze.addEventListener("click",nt)}function Ze(e){Y(Qe).includes(e)?(Je.setAttribute("actions","added"),Je.classList.add("active"),Je.textContent=r.delwatched[Ke.value]):(Je.setAttribute("actions","not-added"),Je.classList.remove("active"),Je.textContent=r.addwatched[Ke.value])}function et(e){Y(Fe).includes(e)?(ze.setAttribute("actions","added"),ze.classList.add("active"),ze.textContent=r.delqueue[Ke.value]):(ze.setAttribute("actions","not-added"),ze.classList.remove("active"),ze.textContent=r.addqueue[Ke.value])}function tt(e){const t=e.currentTarget.getAttribute("id");"added"===Je.getAttribute("actions")?O(Qe,t):(G(Qe,t),O(Fe,t)),Ze(t),et(t),ne()[x.LIBRARY]&&(Xe.classList.contains("active")?Se(ne().page):be(ne().page))}function nt(e){const t=e.currentTarget.getAttribute("id");"added"===ze.getAttribute("actions")?O(Fe,t):(G(Fe,t),O(Qe,t)),Ze(t),et(t),ne()[x.LIBRARY]&&(Xe.classList.contains("active")?Se(ne().page):be(ne().page))}const{filmDetailsRef:at}=i();async function st(e){const{IMAGE_BASE_URL_1X:n,IMAGE_BASE_URL_2X:a}=f,s=e.title||e.name||e.original_name||e.original_title;e.poster_path?(at.image.srcset=`${n}${e.poster_path} 1x, ${a}${e.poster_path} 2x`,at.image.src=`${n}${e.poster_path}`):(at.image.srcset=`${t(S)} 1x, ${t(b)} 2x`,at.image.src=t(S),at.image.alt="Movie photo"),at.image.alt=s,at.title.textContent=s,at.voteAverage.textContent=e.vote_average,at.voteCount.textContent=e.vote_count,at.popularity.textContent=Number(e.popularity.toFixed(1)),at.originTitle.textContent=e.original_title,at.genres.textContent=e.genres.map((e=>e.name)).join(", "),at.about.textContent=e.overview}const ot=document.querySelectorAll(".lock-padding");function rt(){const e=document.querySelector("body"),t=window.getComputedStyle(e),n=e.offsetWidth+parseInt(t.marginLeft)+parseInt(t.marginRight),a=window.innerWidth-n;ot.length>0&&ot.forEach((e=>{e.style.marginRight=a+"px"})),document.body.style.overflow="hidden",document.body.style.paddingRight=a+"px"}function it(e){setTimeout((()=>{ot.length>0&&ot.forEach((e=>{e.style.marginRight=""})),document.body.style.paddingRight="",document.body.style.overflow="auto"}),e)}const{filmDetailsRef:lt}=i();function ct(){window.addEventListener("keydown",ut),lt.filmDetailsModal.classList.remove("is-hidden"),rt()}function dt(){window.removeEventListener("keydown",ut),lt.filmDetailsModal.classList.add("is-hidden"),at.image.src="#",at.image.srcset="#",it(250)}function ut(e){"Escape"===e.code&&dt()}lt.filmDetailsModalClose.addEventListener("click",dt),lt.modalBackdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&dt()})),lt.filmDetailsModalContainer.addEventListener("click",(async function(e){if(e.preventDefault(),!e.target.closest(".gallery-card"))return;R();let t=e.target.closest(".gallery-card").dataset.id;const n=await U(t);if(n)st(n),Ve(t),ct();else{Ne(r.notMovie[mt.value])}E()}));const{languageSelect:mt}=i().panel;let gt;gt=i().modalTeamRef,gt.teamModalOpen.addEventListener("click",(function(e){function t(){window.removeEventListener("click",a),window.removeEventListener("keydown",n),it(250),gt.teamModalBtn.removeEventListener("click",s)}function n(e){"Escape"===e.key&&(gt.teamModal.classList.add("is-hidden"),t())}function a(e){e.target===gt.teamModal&&(gt.teamModal.classList.add("is-hidden"),t())}function s(e){gt.teamModal.classList.add("is-hidden"),t()}e.preventDefault(),gt.teamModal.classList.remove("is-hidden"),window.addEventListener("keydown",n),window.addEventListener("click",a),gt.teamModalBtn.addEventListener("click",s),rt()}));const{switcherBtn:ht}=i().panel;let ft;l().theme&&(ht.checked=!0,document.body.classList.add("theme-dark")),ht.addEventListener("change",(function(){document.body.classList.toggle("theme-dark"),document.body.classList.contains("theme-dark")?c("theme",!0):c("theme",!1)})),ft=i().upArrowRef,window.addEventListener("scroll",(function(){window.scrollY>800?ft.upArrow.classList.remove("is-hidden"):ft.upArrow.classList.add("is-hidden")})),ft.upArrow.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));
//# sourceMappingURL=index.22baa78d.js.map
