function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequired76b;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequired76b=o),o.register("kyEFX",(function(t,n){var a,r;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var o={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},r=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.7f30c11f.js","9Q6Xn":"img-default@1x.79d493e0.jpg","6Auof":"img-default@2x.bbc4c791.jpg","lp5u4":"sprite.7a1e50ba.svg","fMKUz":"backdropDefault.3f973d61.jpg"}'));var s={home:{en:"home",ru:"главная",uk:"головна"},library:{en:"library",ru:"библиотека",uk:"бібліотека"},watched:{en:"watched",ru:"просмотренные",uk:"переглянуті"},queue:{en:"queue",ru:"очередь",uk:"черга"},polyci:{en:"All Rights Reserved",ru:"Все права защищены",uk:"Всі права захищені"},developer:{en:"Developed with",ru:"Разработано",uk:"Розроблено"},by:{en:"by",ru:" ",uk:" "},students:{en:"GoIT Students",ru:"Студентами GoIT",uk:"Студентами GoIT"},rating:{en:"Vote / Votes",ru:"Рейтинг / Голосов",uk:"Рейтинг / Голосів"},popularity:{en:"Popularity",ru:"Популярность",uk:"Популярність"},original:{en:"Original Title",ru:"Оригинальное название",uk:"Оригінальна назва"},genre:{en:"Genre",ru:"Жанр",uk:"Жанр"},other:{en:"Other",ru:"Другое",uk:"Інше"},about:{en:"About",ru:"Описание",uk:"Опис"},addwatched:{en:"add to Watched",ru:"Добавить в просмотренные",uk:"Додати до переглянутих"},delwatched:{en:"Remove from watched",ru:"Удалить из просмотренных",uk:"Видалити з переглянутих"},addqueue:{en:"add to queue",ru:"добавить в очередь",uk:"додати до черги"},delqueue:{en:"Remove from queue",ru:"Удалить из очереди",uk:"Видалити з черги"},emptySearch:{en:"Enter the name of the movie, for a correct search!",ru:"Введите название фильма, для корректного поиска!",uk:"Введіть назву фільму, для правильного пошуку!"},badQuery:{en:"Nothing is found. Wrong query.",ru:"Ничего не найдено. Неверный запрос.",uk:"Нічого не знайдено. Неправильний запит."},searchplaceholder:{en:"Movie search",ru:"Поиск фильмов",uk:"Пошук фільмів"},notMovie:{en:"Oops, movie not found. Please, choose another movie",ru:"Упс, фильм не найден. Пожалуйста, выберите другой фильм",uk:"На жаль, фільм не знайдено. Будь ласка, виберіть інший фільм"},group:{en:"Group",ru:"Группа",uk:"Група"},serg:{en:"Sergey Korobka",ru:"Сергей Коробка",uk:"Сергій Коробка"},maria:{en:"Maria Kolisnyk",ru:"Мария Колесник",uk:"Марія Колісник"},ihork:{en:"Ihor Kolontaievskiy",ru:"Игорь Колонтаевский",uk:"Ігор Колонтаєвський"},petr:{en:"Petr Mazka",ru:"Петр Мазка",uk:"Петро Мазка"},tetiana:{en:"Tetiana Doroshko",ru:"Татьяна Дорошко",uk:"Тетяна Дорошко"},anast:{en:"Anastasia Slezko",ru:"Анастасия Слезко",uk:"Анастасія Слезко"},liliia:{en:"Liliia Kostiurenko",ru:"Лилия Костюренко",uk:"Лілія Костюренко"},ihora:{en:"Ihor Alexsovich",ru:"Игорь Алексович",uk:"Ігор Алексович"},vladim:{en:"Vladimir Vashchenko",ru:"Владимир Ващенко",uk:"Володимир Ващенко"},lead:{en:"Team Lead",ru:"Тимлид",uk:"Тімлід"},scrum:{en:"Scrum Master",ru:"Скрам мастер",uk:"Скрам майстер"},dev1:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev2:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev3:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev4:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev5:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev6:{en:"Developer",ru:"Разработчик",uk:"Розробник"},dev7:{en:"Developer",ru:"Разработчик",uk:"Розробник"},trday:{en:"Day",ru:"День",uk:"День"},trweek:{en:"Week",ru:"Неделя",uk:"Неділя"},emptyWatched1:{en:"You don't have any movies you've watched.",ru:"У вас еще нет фильмов, которые вы смотрели.",uk:"Ви ще не маєте фільмів, які ви дивилися."},emptyWatched2:{en:"Add the first one.",ru:"Добавьте свой первый фильм.",uk:"Додайте свій перший фільм."},emptyQueue1:{en:"You don't have any movies in the queue.",ru:"У вас еще нет фильмов в очереди, для просмотра.",uk:"У вас ще немає фільмів у черзі, для перегляду."},emptyQueue2:{en:"Add the first one.",ru:"Добавьте свой первый фильм.",uk:"Додайте свій перший фільм."},trailer:{en:"Sorry, trailer not found",ru:"Извините, трейлер не найден",uk:"Вибачте, трейлер не знайдено"},detailsNotFound:{en:"No information",ru:"Нету информации",uk:"Інформації немає"}};function i(){return{headerRef:{header:document.querySelector(".header"),navLogo:document.querySelector(".navigation__logo"),searchForm:document.querySelector(".js-search-form"),headLibBackGr:document.querySelector(".header--library"),searchInput:document.querySelector(".js-form-input")},searchRef:{searchForm:document.querySelector(".search-form")},libraryButtonsRef:{btnContainer:document.querySelector(".js-btn-container"),btnWatched:document.querySelector(".js-btn-watched"),btnQueue:document.querySelector(".js-btn-queue")},paginationRef:{container:document.querySelector(".pag-container-js"),paginationList:document.querySelector(".pag-list-js"),pages:document.querySelectorAll(".js-page"),prev:document.querySelector(".prev-js"),next:document.querySelector(".next-js"),first:document.querySelector(".first-js"),last:document.querySelector(".last-js"),prevMore:document.querySelector(".prevMore-js"),nextMore:document.querySelector(".nextMore-js")},modalTeamRef:{teamModal:document.querySelector(".team-modal"),teamModalBtn:document.querySelector(".tm-close-btn"),teamModalOpen:document.querySelector(".footer-link")},libraryRef:{libBtn:document.querySelector(".js-library"),homeBtn:document.querySelector(".js-home")},galleryRef:{moviesDiv:document.querySelector("#movies-gallery")},filmDetailsRef:{filmDetailsModalContainer:document.querySelector("#movies-gallery"),filmDetailsModalClose:document.querySelector('[data-action="close-modal"]'),filmTrailerBtn:document.querySelector('[data-action="trailer"]'),modalBackdrop:document.querySelector(".modal"),filmDetailsModal:document.querySelector(".modal"),image:document.querySelector(".js-image"),title:document.querySelector(".js-title"),voteAverage:document.querySelector(".js-vote"),voteCount:document.querySelector(".js-vote-count"),popularity:document.querySelector(".js-popularity"),originTitle:document.querySelector(".js-title-orig"),genres:document.querySelector(".js-genres"),about:document.querySelector(".js-about"),btnWatched:document.querySelector(".js-btn-modal-watched"),btnQueue:document.querySelector(".js-btn-modal-queue")},footerRef:{},loaderRef:{loader:document.querySelector(".js-loader")},modalErrorRef:{modalError:document.querySelector(".windov-modal"),modalErrorText:document.querySelector(".error-modal__text")},panel:{switcherBtn:document.querySelector(".switcher-toggle"),languageSelect:document.querySelector(".js-language-btn")},upArrowRef:{upArrow:document.querySelector(".to-top-button")},modalTrailerRef:{modalTrailer:document.querySelector(".js-trailer")},trendingBtnsRef:{btnDay:document.querySelector("#day"),btnWeek:document.querySelector("#week"),trendingButtons:document.querySelector(".trending")}}}function l(){const e=localStorage.getItem("user-setting");try{if(e){return JSON.parse(e)}return{}}catch(e){console.log(e)}}function c(e,t){const n=l();let a={};a=n?{...n,[e]:t}:{[e]:t};const r=JSON.stringify(a);localStorage.setItem("user-setting",r)}const{languageSelect:d}=i().panel,u=["en","ru","uk"];d.addEventListener("change",(function(e){let t=e.currentTarget.value;location.href=`${window.location.pathname}#${t}`,c("lang",t),location.reload()})),function(){const e=l();e.lang&&(location.href=`${window.location.pathname}#${e.lang}`);let t=window.location.hash.substring(1);u.includes(t)||(location.href=`${window.location.pathname}#en`,location.reload());d.value=t,c("lang",t);const n=Object.keys(s);for(let e of n){const n=document.querySelector(`.lang-${e}`),a=s[e][t];n&&a&&(n.innerHTML=a)}}();const{languageSelect:m}=i().panel,g={};function f(e){e.genres.forEach((e=>{g[e.id]=e.name}))}function h(e){const t=[],n=s.other[m.value];e.genre_ids?e.genre_ids.forEach((e=>{g[e]&&t.push(g[e])})):t.push(""),0===t.length&&t.push("Good Genre"),t.length>3&&(t.splice(3),t[2]=n);return t.map((e=>`${e}`)).join(", ")}var p={API_KEY:"06cf6ee022a0922eb5200ae030143d7b",API_BASE_URL:"https://api.themoviedb.org/3/",TRENDING_PATH_PARAMS_WEEK:"trending/movie/week",TRENDING_PATH_PARAMS_DAY:"trending/movie/day",SEARCH_PATH_PARAMS:"search/movie",DETAILS_PATH_PARAMS:"movie/",IMAGE_BASE_URL_1X:"https://image.tmdb.org/t/p/w500",IMAGE_BASE_URL_2X:"https://image.tmdb.org/t/p/w780",GENRES_PATH_PARAMS:"genre/movie/list"};const{languageSelect:v}=i().panel,y=i().trendingBtnsRef.btnDay;let _;"en"===v.value?_="en-US":"uk"===v.value?_="uk-UA":"ru"===v.value&&(_="ru-RU");const{API_KEY:L,API_BASE_URL:w,TRENDING_PATH_PARAMS_DAY:k,TRENDING_PATH_PARAMS_WEEK:R}=p;async function E(e=1){const t=y.checked?new URL(w+k):new URL(w+R);t.searchParams.set("api_key",L),t.searchParams.set("page",e),t.searchParams.set("language",_);try{const e=await fetch(t);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}return await e.json()}catch(e){console.log(e)}}function b(){i().loaderRef.loader.classList.add("is-hidden")}function S(){i().loaderRef.loader.classList.remove("is-hidden")}var A;A=new URL(o("kyEFX").resolve("9Q6Xn"),import.meta.url).toString();var M;M=new URL(o("kyEFX").resolve("6Auof"),import.meta.url).toString();const{IMAGE_BASE_URL_1X:T,IMAGE_BASE_URL_2X:j}=p;function q(e,n,a){const r=e.title||e.name||e.original_name||e.original_title;let o,s;return e.poster_path?(o=`${T+e.poster_path} 1x,${j+e.poster_path} 2x`,s=`${T+e.poster_path}`):(o=`${t(A)} 1x, ${t(M)} 2x`,s=t(A)),`<li class="gallery-card" data-id ="${e.id}">\n<a href="#" class="gallery-card__link">\n            <img srcset="${o}"\n  src="${s}" alt="${r}"  class="gallery-card__image" loading="lazy">\n  <div class="gallery-card__info">\n<p class="gallery-card__name">${r}</p>\n<p class="gallery-card__genre">${n} | ${a}</p>\n</div>\n</a>\n\t    </li>`}const{moviesDiv:B}=i().galleryRef;function I(e){const t=e.results.map((e=>function(e){const t=h(e);let n;n=e.release_date?Number.parseInt(e.release_date):e.first_air_date?Number.parseInt(e.first_air_date):"Good Year";return q(e,t,n)}(e))).join("");B.innerHTML=`<ul class="gallery-container">${t}</ul>`}var x={KEY_WATCHED:"added-watched",KEY_QUEUE:"added-queue",CURRENT_QUERY:"current-query",TRENDING:"trending",BY_KEY:"by-key",LIBRARY:"library"};const{languageSelect:$}=i().panel;let D;"en"===$.value?D="en-US":"uk"===$.value?D="uk-UA":"ru"===$.value&&(D="ru-RU");const{API_KEY:N,API_BASE_URL:P,DETAILS_PATH_PARAMS:U}=p;async function C(e){const t=new URL(P+U+e);t.searchParams.set("api_key",N),t.searchParams.set("language",D);try{const e=await fetch(t);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}return await e.json()}catch(e){console.log(e)}}const{languageSelect:Y}=i().panel,{IMAGE_BASE_URL_1X:H,IMAGE_BASE_URL_2X:G}=p;function K(e){let n=e.genres.map((e=>e.name));const a=s.other[Y.value];let r,o;n=n.length>3?[n[0],n[1],a].join(", "):n.join(", "),e.poster_path?(r=`${H+e.poster_path} 1x,${G+e.poster_path} 2x`,o=`${H+e.poster_path}`):(r=`${t(A)} 1x, ${t(M)} 2x`,o=t(A));const i=e.title||e.name||e.original_name||e.original_title;return`\n  <li class="gallery-card" data-id ="${e.id}">\n    <a href="#" class="gallery-card__item">\n      <img srcset="${r}"\n  src="${o}" alt="${i}"  class="gallery-card__image" loading="lazy">\n      <div class="gallery-card__info">\n        <p class="gallery-card__name">${i}</p>\n        <p class="gallery-card__genre">${n} | ${Number.parseInt(e.release_date)||"N/A"}  &nbsp; <span class="film-details__span--accent">${e.vote_average}</span>\n        </p>\n        \n      </div>\n    </a>        \n\t</li>`}function W(e){const t=localStorage.getItem(e);try{if(t){return JSON.parse(t)}return[]}catch(e){console.log(e)}}function O(e,t){const n=W(e);let a=[];if(n){if(n.includes(t))return;a=[...n,t]}else a=[t];const r=JSON.stringify(a);localStorage.setItem(e,r)}function Q(e,t){const n=W(e);let a=[];if(n){a=[...n.filter((e=>e!==t))]}const r=JSON.stringify(a);localStorage.setItem(e,r)}var F;function X(e){let n="";const a=e>9?"":"is-hidden";for(let t=1;t<=e&&!(window.matchMedia("(max-width: 767px)").matches&&e>5&&6===t)&&!(e>9&&10===t);t+=1)n+=`<li class="pagination__item js-page" data-num='${t}'><a class="pagination__link" href="#">${t}</a></li>`;return`\n  <ul class="pagination__list pag-list-js">\n      <li class="button prev-js pagination__item"><svg class="button__icon" width="16" height ="16">\n          <use href="${t(F)}#arrow-right"></use>\n        </svg></li>\n      <li class="pagination__item first-js is-hidden hidden"><a class="pagination__link" href="#">1</a></li>\n      <li class="pagination__item prevMore-js is-hidden hidden"><a class="pagination__link" href="#">...</a></li>\n      ${n}\n      <li class="pagination__item ${a} nextMore-js hidden"><a class="pagination__link" href="#">...</a></li>\n      <li class="pagination__item ${a} last-js hidden"><a class="pagination__link" href="#">${e}</a></li>\n      <li class="button next-js pagination__item"><svg class="button__icon" width="16" height="16">\n          <use href="${t(F)}#arrow-left"></use>\n        </svg></li>\n\n    </ul>`}F=new URL(o("kyEFX").resolve("lp5u4"),import.meta.url).toString();const{paginationRef:J}=i();function z(e){const t=X(e);J.container.innerHTML=t}const{languageSelect:V}=i().panel;let Z;"en"===V.value?Z="en-US":"uk"===V.value?Z="uk-UA":"ru"===V.value&&(Z="ru-RU");const{API_KEY:ee,API_BASE_URL:te,SEARCH_PATH_PARAMS:ne}=p;async function ae(e,t=1){const n=new URL(te+ne);n.searchParams.set("api_key",ee),n.searchParams.set("page",t),n.searchParams.set("query",e),n.searchParams.set("language",Z);try{const e=await fetch(n);if(!e.ok){const t=await e.json();throw new Error(t.status_message)}const t=await e.json();if(t.results.length)return t;throw new Error("Nothing is found. Wrong query.")}catch(e){console.log(e)}}const{CURRENT_QUERY:re}=x;function oe(){try{const e=localStorage.getItem(re);return JSON.parse(e)}catch(e){console.log(e)}}function se(e,t=!0,n=1){const a={[e]:t,page:n};try{const e=JSON.stringify(a);localStorage.setItem(re,e)}catch(e){console.log(e)}}function ie(e){const t=oe();try{t.page=e;const n=JSON.stringify(t);localStorage.setItem(re,n)}catch(e){console.log(e)}}const{moviesDiv:le}=i().galleryRef,{TRENDING:ce,BY_KEY:de,LIBRARY:ue}=x,{paginationRef:{container:me}}=i();let ge,fe,he=1;function pe(e,t){fe=e,ie(t),e<=1?ke():(t&&(he=t),z(e),ge=i().paginationRef,ye(),_e(),we(),ge.paginationList.addEventListener("click",ve))}function ve(e){e.preventDefault(),e.target.classList.contains("pagination__item")&&(e.target.classList.contains("js-page")&&(he=Number(e.target.dataset.num)),e.target.classList.contains("prev-js")&&he>1&&(he-=1),e.target.classList.contains("next-js")&&he<fe&&(he+=1),e.target.classList.contains("first-js")&&(he=1,Le()),e.target.classList.contains("last-js")&&(he=fe,Le()),e.target.classList.contains("prevMore-js")&&(he=+ge.pages[1].dataset.num,Le()),e.target.classList.contains("nextMore-js")&&(he=+ge.pages[ge.pages.length-2].dataset.num,Le()),async function(e){ie(e);const t=oe();let n;S(),t[ce]&&(n=await E(e),I(n));if(t[de]){const a=t[de];n=await ae(a,e),I(n)}t[ue]&&Be(e);b()}(he),ye(),_e(),we(),function(){const{top:e}=le.getBoundingClientRect();window.scrollBy({top:e,behavior:"smooth"})}())}function ye(){ge.pages.forEach((e=>{e.classList.remove("active"),+e.dataset.num===he&&e.classList.add("active")}))}function _e(){window.matchMedia("(min-width: 768px)").matches?fe>9&&(he<=5?(ge.first.classList.add("is-hidden"),ge.prevMore.classList.add("is-hidden"),ge.pages[0].classList.remove("is-hidden"),ge.pages[1].classList.remove("is-hidden")):(ge.first.classList.remove("is-hidden"),ge.prevMore.classList.remove("is-hidden"),ge.pages[0].classList.add("is-hidden"),ge.pages[1].classList.add("is-hidden")),function(){const e=ge.pages.length-1;he>=fe-4?(ge.last.classList.add("is-hidden"),ge.nextMore.classList.add("is-hidden"),ge.pages[e-1].classList.remove("is-hidden"),ge.pages[e].classList.remove("is-hidden")):(ge.last.classList.remove("is-hidden"),ge.nextMore.classList.remove("is-hidden"),ge.pages[e-1].classList.add("is-hidden"),ge.pages[e].classList.add("is-hidden"))}(),he>=4&&he<=fe&&Le()):fe>5&&he>=2&&he<=fe&&Le(),ye()}function Le(){let e=he-4;he<=1?e=he:he<=2?e=he-1:he<=3?e=he-2:he<=4&&(e=he-3),he>=fe?e=he-8:he>=fe-1?e=he-7:he>=fe-2?e=he-6:he>=fe-3&&(e=he-5),window.matchMedia("(max-width: 767px)").matches&&(e=he-2,he<=1?e=he:he<=2&&(e=he-1),he>=fe?e=he-4:he>=fe-1?e=he-3:he>=fe-2&&(e=he-2));for(let t=e,n=0;n<ge.pages.length;t+=1,n+=1)ge.pages[n].firstElementChild.textContent=t,ge.pages[n].dataset.num=t}function we(){he<=1?ge.prev.classList.add("disabled"):ge.prev.classList.remove("disabled"),he>=fe?ge.next.classList.add("disabled"):ge.next.classList.remove("disabled")}function ke(){me.innerHTML="",fe=0}window.addEventListener("resize",(function(){if(!ge)return;window.matchMedia("(max-width: 767px)").matches&&!ge.container.classList.contains("mobile-js")?(ge.container.classList.remove("desktop-js"),ge.container.classList.add("mobile-js"),pe(fe,he)):window.matchMedia("(min-width: 768px)").matches&&!ge.container.classList.contains("desktop-js")&&(ge.container.classList.remove("mobile-js"),ge.container.classList.add("desktop-js"),pe(fe,he))}));const{languageSelect:Re}=i().panel,Ee=i().libraryButtonsRef.btnWatched,be=i().libraryButtonsRef.btnQueue,Se=i().galleryRef.moviesDiv;let Ae;function Me(e,t){Ee.addEventListener("click",Te),be.addEventListener("click",je),"watched"===t?(Te(e),Ee.classList.add("active")):"queue"===t?je(e):(Te(e),Ee.classList.add("active"))}async function Te(e){let t;t="number"==typeof e?e:1,be.classList.remove("active"),Ee.classList.add("active"),ke(),se(x.LIBRARY,"watched"),ie(t);const n=W(x.KEY_WATCHED);if(n&&0!==n.length){S(),Ae=await Promise.all(qe(n)),Ae=Ae.filter((e=>void 0!==e));const e=Math.ceil(Ae.length/20);e<t&&(t-=1),Be(t),pe(e,t),b()}else{const e=s.emptyWatched1[Re.value],t=s.emptyWatched2[Re.value];Se.innerHTML=`<p class='gallery__info'>${e}</p><p class='gallery__info'>${t}</p>`,b()}}async function je(e){let t;t="number"==typeof e?e:1,be.classList.add("active"),Ee.classList.remove("active"),ke(),se(x.LIBRARY,"queue"),ie(t);const n=W(x.KEY_QUEUE);if(n&&0!==n.length){S(),Ae=await Promise.all(qe(n)),Ae=Ae.filter((e=>void 0!==e));const e=Math.ceil(Ae.length/20);e<t&&(t-=1),Be(t),pe(e,t),b()}else{const e=s.emptyQueue1[Re.value],t=s.emptyQueue2[Re.value];Se.innerHTML=`<p class='gallery__info'>${e}</p><p class='gallery__info'>${t}</p>`,b()}}function qe(e){return e.map((e=>new Promise((t=>{t(C(e)),reject(C(e))}))))}function Be(e=1){const t=Ae.slice(0+20*(e-1),20+20*(e-1)).map((e=>{if(e)return K(e)})).join("");Se.innerHTML=`<ul class="gallery-container">${t}</ul>`}const{languageSelect:Ie}=i().panel,{API_KEY:xe,API_BASE_URL:$e,GENRES_PATH_PARAMS:De}=p;let Ne;async function Pe(){const e=new URL($e+De);e.searchParams.set("api_key",xe),e.searchParams.set("language",Ne);try{const t=await fetch(e);if(!t.ok){const e=await t.json();throw new Error(e.status_message)}return await t.json()}catch(e){console.log(e)}}"en"===Ie.value?Ne="en-US":"uk"===Ie.value?Ne="uk-UA":"ru"===Ie.value&&(Ne="ru-RU");const{modalError:Ue,modalErrorText:Ce}=i().modalErrorRef;let Ye=null;function He(e){Ue.classList.contains("show-hide")||(Ue.classList.remove("is-hidden"),Ue.classList.add("show-hide"),function(e){Ce.innerHTML=`${e}`}(e),Ye=setTimeout((()=>{Ge()}),3e3))}function Ge(){Ue.classList.add("is-hidden"),Ue.classList.remove("show-hide")}Ue.addEventListener("click",(function(){Ge(),clearInterval(Ye)}));const{languageSelect:Ke}=i().panel,{moviesDiv:We}=i().galleryRef,{searchForm:Oe}=i().searchRef,{btnDay:Qe,btnWeek:Fe}=i().trendingBtnsRef;let Xe="";function Je(e,t,n){t||(t=1),S(),ae(e,t).then((a=>{if(a)Qe.checked=!1,Fe.checked=!1,se(x.BY_KEY,e),pe(a.total_pages,t),I(a),n&&function(){const{top:e}=We.getBoundingClientRect();window.scrollBy({top:e,behavior:"smooth"})}();else{He(s.badQuery[Ke.value])}})).finally(b),Oe.elements.searchQuery.value=""}Oe.elements.searchQuery.placeholder=s.searchplaceholder[Ke.value],Oe.addEventListener("submit",(function(e){if(e.preventDefault(),Xe=e.target.elements.searchQuery.value.trim(),""===Xe){return He(s.emptySearch[Ke.value])}Je(Xe,1,!0)}));const{btnDay:ze,btnWeek:Ve}=i().trendingBtnsRef;let Ze="day";function et(e){"number"!=typeof e&&(e=1),i().headerRef.searchInput.value=null,i().headerRef.header.classList.add("header--home"),i().headerRef.header.classList.remove("header--library"),i().libraryButtonsRef.btnContainer.classList.add("display-none"),i().headerRef.searchForm.classList.remove("display-none"),i().libraryRef.homeBtn.classList.add("current"),i().libraryRef.libBtn.classList.remove("current"),i().trendingBtnsRef.trendingButtons.classList.remove("visually-hidden"),async function(e){"number"!=typeof e&&(e=1),S(),ke(),ze.checked?se(x.TRENDING,"day"):Ve.checked&&se(x.TRENDING,"week");const t=await E(e);I(t),pe(t.total_pages,e),b()}(e)}function tt(e,t){"number"!=typeof e&&(e=1),i().headerRef.header.classList.remove("header--home"),i().headerRef.header.classList.add("header--library"),i().headerRef.searchForm.classList.add("display-none"),i().libraryButtonsRef.btnContainer.classList.remove("display-none"),i().libraryRef.libBtn.classList.add("current"),i().libraryRef.homeBtn.classList.remove("current"),i().trendingBtnsRef.trendingButtons.classList.add("visually-hidden"),ke(),Me(e,t)}S(),window.addEventListener("DOMContentLoaded",(async function(){const e=oe(),t=(null==e?void 0:e.page)||1;if(f(await(0,Pe)()),e){if(e[x.TRENDING])"day"===e[x.TRENDING]?(ze.checked=!0,Ze="day"):"week"===e[x.TRENDING]&&(Ze="week",Ve.checked=!0),et(t);else if(e[x.LIBRARY])"watched"===e[x.LIBRARY]?tt(t,"watched"):"queue"===e[x.LIBRARY]&&tt(t,"queue");else if(e[x.BY_KEY]){const n=e[x.BY_KEY];ze.checked=!1,Ve.checked=!1,Je(n,t)}}else se(x.TRENDING),et(t)})),i().libraryRef.homeBtn.addEventListener("click",et),i().libraryRef.libBtn.addEventListener("click",tt),i().headerRef.navLogo.addEventListener("click",et);const{languageSelect:nt}=i().panel,at=x.KEY_WATCHED,rt=x.KEY_QUEUE,{btnWatched:ot,btnQueue:st}=i().libraryButtonsRef,it=i().filmDetailsRef.btnWatched,lt=i().filmDetailsRef.btnQueue;function ct(e){dt(e),ut(e),it.setAttribute("id",e),it.addEventListener("click",mt),lt.setAttribute("id",e),lt.addEventListener("click",gt)}function dt(e){W(at).includes(e)?(it.setAttribute("actions","added"),it.classList.add("active"),it.textContent=s.delwatched[nt.value]):(it.setAttribute("actions","not-added"),it.classList.remove("active"),it.textContent=s.addwatched[nt.value])}function ut(e){W(rt).includes(e)?(lt.setAttribute("actions","added"),lt.classList.add("active"),lt.textContent=s.delqueue[nt.value]):(lt.setAttribute("actions","not-added"),lt.classList.remove("active"),lt.textContent=s.addqueue[nt.value])}function mt(e){const t=e.currentTarget.getAttribute("id");"added"===it.getAttribute("actions")?Q(at,t):(O(at,t),Q(rt,t)),dt(t),ut(t),oe()[x.LIBRARY]&&(ot.classList.contains("active")?Te(oe().page):je(oe().page))}function gt(e){const t=e.currentTarget.getAttribute("id");"added"===lt.getAttribute("actions")?Q(rt,t):(O(rt,t),Q(at,t)),dt(t),ut(t),oe()[x.LIBRARY]&&(ot.classList.contains("active")?Te(oe().page):je(oe().page))}var ft;ft=new URL(o("kyEFX").resolve("fMKUz"),import.meta.url).toString();const{languageSelect:ht}=i().panel,{filmDetailsRef:pt}=i();async function vt(e){const{IMAGE_BASE_URL_1X:n,IMAGE_BASE_URL_2X:a}=p,r=s.detailsNotFound[ht.value],o=e.title||e.name||e.original_name||e.original_title;e.poster_path?(pt.image.srcset=`${n}${e.poster_path} 1x, ${a}${e.poster_path} 2x`,pt.image.src=`${n}${e.poster_path}`):(pt.image.srcset=`${t(A)} 1x, ${t(M)} 2x`,pt.image.src=t(A),pt.image.alt="Movie photo"),pt.image.alt=o,pt.title.textContent=o,pt.voteAverage.textContent=e.vote_average,pt.voteCount.textContent=e.vote_count,pt.popularity.textContent=Number(e.popularity.toFixed(1)),e.original_title?pt.originTitle.textContent=e.original_title:pt.originTitle.textContent=r,e.overview?pt.about.textContent=e.overview:pt.about.textContent=r;0===e.genres.map((e=>e.name)).length?pt.genres.textContent=r:pt.genres.textContent=e.genres.map((e=>e.name)).join(", ")}async function yt(e){const{IMAGE_BASE_URL_2X:n}=p;e.backdrop_path?pt.modalBackdrop.style.setProperty("--defaultBackdrop",`url(${n}${e.backdrop_path})`):pt.modalBackdrop.style.setProperty("--defaultBackdrop",`url(${t(ft)})`)}const _t=document.querySelectorAll(".lock-padding");function Lt(){const e=document.querySelector("body"),t=window.getComputedStyle(e),n=e.offsetWidth+parseInt(t.marginLeft)+parseInt(t.marginRight),a=window.innerWidth-n;_t.length>0&&_t.forEach((e=>{e.style.marginRight=a+"px"})),document.body.style.overflow="hidden",document.body.style.paddingRight=a+"px"}function wt(e){setTimeout((()=>{_t.length>0&&_t.forEach((e=>{e.style.marginRight=""})),document.body.style.paddingRight="",document.body.style.overflow="auto"}),e)}const{filmDetailsRef:kt}=i(),{image:Rt}=i().filmDetailsRef;function Et(){window.addEventListener("keydown",St),kt.filmDetailsModal.classList.remove("is-hidden"),Lt()}function bt(){window.removeEventListener("keydown",St),kt.filmDetailsModal.classList.add("is-hidden"),pt.image.src="#",pt.image.srcset="#",Dt.removeEventListener("click",Nt),wt(250)}function St(e){"Escape"===e.code&&bt()}kt.filmDetailsModalClose.addEventListener("click",bt),kt.modalBackdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&bt()})),kt.filmDetailsModalContainer.addEventListener("click",(async function(e){if(e.preventDefault(),!e.target.closest(".gallery-card"))return;S();let t=e.target.closest(".gallery-card").dataset.id;const n=await C(t);if(n)vt(n),yt(n),ct(t),Et();else{He(s.notMovie[$t.value])}b(),function(e){Nt=()=>{xt(e)},Dt.addEventListener("click",Nt)}(t)}));const{API_KEY:At,API_BASE_URL:Mt}=p;async function Tt(e,t){try{const n=await fetch(`${Mt}/movie/${e}/videos?api_key=${At}&language=${t}`);if(!n.ok){const e=await n.json();throw new Error(e.status_message)}return await n.json()}catch(e){console.log(e)}}const{languageSelect:jt}=i().panel,{modalTrailerRef:qt}=i();function Bt(){window.removeEventListener("keydown",It),qt.modalTrailer.classList.add("is-hidden"),qt.modalTrailer.innerHTML=""}function It(e){"Escape"===e.code&&Bt()}async function xt(e){S();const t=["en-US","uk-UA","ru-RU"],n=t.find((e=>e.includes(jt.value))),a=t.filter((e=>e!==n)),r=[n,...a];let o;for(let t=0;t<3&&(o=await Tt(e,r[t]),!(o.results.length>0));t+=1);const s=o.results.find((e=>{const t=e.name.toLowerCase();return["official","trailer","трейлер","официальный","офіційний"].some((e=>t.includes(e)))})),i=o.results.find((e=>{const t=e.name.toLowerCase();return["teaser","тизер"].some((e=>t.includes(e)))})),l=o.results.find((e=>"trailer"===e.type.toLowerCase())),c=o.results.find((e=>"teaser"===e.type.toLowerCase())),d=o.results.find((e=>e.key)),u=s||i||l||c||d;if(!u){return He(r.trailer[jt.value]),void b()}const m=`\n  <iframe width="854" height="480" src="https://www.youtube.com/embed/${u.key}"\n    title="YouTube video player" frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n    allowfullscreen>\n  </iframe>`;qt.modalTrailer.innerHTML=m,b(),window.addEventListener("keydown",It),qt.modalTrailer.classList.remove("is-hidden")}qt.modalTrailer.addEventListener("click",(function(e){e.currentTarget===e.target&&Bt()}));const{languageSelect:$t}=i().panel,{filmTrailerBtn:Dt}=i().filmDetailsRef;let Nt,Pt;Pt=i().modalTeamRef,Pt.teamModalOpen.addEventListener("click",(function(e){function t(){window.removeEventListener("click",a),window.removeEventListener("keydown",n),wt(250),Pt.teamModalBtn.removeEventListener("click",r)}function n(e){"Escape"===e.key&&(Pt.teamModal.classList.add("is-hidden"),t())}function a(e){e.target===Pt.teamModal&&(Pt.teamModal.classList.add("is-hidden"),t())}function r(e){Pt.teamModal.classList.add("is-hidden"),t()}e.preventDefault(),Pt.teamModal.classList.remove("is-hidden"),window.addEventListener("keydown",n),window.addEventListener("click",a),Pt.teamModalBtn.addEventListener("click",r),Lt()}));const{switcherBtn:Ut}=i().panel;let Ct;l().theme&&(Ut.checked=!0,document.body.classList.add("theme-dark")),Ut.addEventListener("change",(function(){document.body.classList.toggle("theme-dark"),document.body.classList.contains("theme-dark")?c("theme",!0):c("theme",!1)})),Ct=i().upArrowRef,window.addEventListener("scroll",(function(){window.scrollY>800?Ct.upArrow.classList.remove("is-hidden"):Ct.upArrow.classList.add("is-hidden")})),Ct.upArrow.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));i().trendingBtnsRef.trendingButtons.addEventListener("change",(async function(e){if("INPUT"===e.target.nodeName){S();const t=await E();let n;e.target.checked&&(n=e.target.value),I(t),se(x.TRENDING,n),pe(t.total_pages,1),b()}}));
//# sourceMappingURL=index.7f30c11f.js.map
